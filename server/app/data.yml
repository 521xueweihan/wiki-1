# ---------------------------------
# DO NOT EDIT THIS FILE!
# This is reserved for system use!
# ---------------------------------
name: Wiki.js
defaults:
  config:
    # File defaults
    port: 80
    db:
      host: localhost
      port: 5432
      user: wikijs
      pass: wikijsrocks
      db: wiki
      ssl: false
      sslOptions:
        auto: true
      schemas:
        wiki: wiki
        scheduler: scheduler
    ssl:
      enabled: false
    pool:
      min: 1
    bindIP: 0.0.0.0
    logLevel: info
    logFormat: default
    offline: false
    dataPath: ./data
    bodyParserLimit: 5mb
    scheduler:
      workers: 3
      pollingCheck: 5
      scheduledCheck: 300
      maxRetries: 2
      retryBackoff: 60
      historyExpiration: 90000
    # DB defaults
    api:
      isEnabled: false
    mail:
      host: ''
      secure: true
      verifySSL: true
    auth:
      autoLogin: false
      enforce2FA: false
      hideLocal: false
      loginBgUrl: ''
      audience: 'urn:wiki.js'
      tokenExpiration: '30m'
      tokenRenewal: '14d'
    security:
      corsMode: 'OFF'
      corsConfig: ''
      enforceCsp: false
      trustProxy: false
      enforceHsts: false
      disallowFloc: true
      hstsDuration: 0
      cspDirectives: ''
      uploadScanSVG: true
      disallowIframe: true
      uploadMaxFiles: 20
      authJwtAudience: 'urn:wiki.js'
      authJwtExpiration: '30m'
      uploadMaxFileSize: 10485760
      forceAssetDownload: true
      disallowOpenRedirect: true
      authJwtRenewablePeriod: '14d'
      enforceSameOriginReferrerPolicy: true
    flags:
      experimental: false
      authDebug: false
      sqlLog: false
    userDefaults:
      timezone: 'America/New_York'
      dateFormat: 'YYYY-MM-DD'
      timeFormat: '12h'
    # System defaults
    channel: NEXT
    cors:
      credentials: true
      maxAge: 600
      methods: 'GET,POST'
      origin: true
    search:
      maxHits: 100
    maintainerEmail: security@requarks.io
editors:
  asciidoc:
    contentType: html
    config: {}
  markdown:
    contentType: markdown
    config:
      allowHTML: true
      linkify: true
      lineBreaks: true
      typographer: false
      underline: false
      tabWidth: 2
      latexEngine: katex
      kroki: true
      plantuml: true
      multimdTable: true
  wysiwyg:
    contentType: html
    config: {}
groups:
  defaultPermissions:
    - 'read:pages'
    - 'read:assets'
    - 'read:comments'
    - 'write:comments'
  defaultRules:
    - name: Default Rule
      mode: ALLOW
      match: START
      roles:
        - 'read:pages'
        - 'read:assets'
        - 'read:comments'
        - 'write:comments'
      path: ''
      locales: []
      sites: []
